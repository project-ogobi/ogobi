<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{template}">


<div layout:fragment="content" class="container">
    <h1 class="font-semibold p-3 text-center text-lg">인기글</h1>

    <!--   카드 시작 -->
    <div class="carousel w-full h-48">
        <div th:id="${'item' + i}" class="carousel-item w-full flex justify-center" th:each="post, i: ${bestPosts}">
            <div class="bg-indigo-200 rounded-lg w-5/6 h-5/6 p-4 flex-col flex">
                <div class="font-semibold text-2xl mb-4" th:text="${post.subject}">제목</div>
                <span class="h-16"
                      th:utext="${#strings.length(post.content) &gt; 90 ? #strings.substring(post.content, 0, 90) + '...' : post.content}">내용</span>
                <div class="items-end justify-end text-right"><a
                        th:href="@{|/posts/${post.getCategory().toString().toLowerCase()}/detail/${post.id}|}">보러가기>></a>
                </div>
            </div>
        </div>
    </div>
    <!--   카드 끝 -->

    <!--   번호 -->
    <div class="flex w-full gap-2 justify-center items-center">
        <div class="flex-col" th:each="post, i : ${bestPosts}">
            <a th:href="${'#item' + i}" class="btn btn-xs btn-primary" th:text="${i.count}">index</a>
        </div>
    </div>

    <!-- 선 추가 -->
    <hr class="my-5 border-gray-300">
    <h1 class="font-semibold text-center text-lg mb-3">최근 게시글</h1>
    <style>
        .collapse:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
    </style>
    <div class="collapse collapse-open border border-base-300 bg-base-100 rounded-box mb-1"
         th:each="post : ${resentPostList}">
        <a class="collapse-title text-xl font-medium"
           th:text="|[${post.getCategory().toString().toLowerCase() eq 'free' ? '자유 게시판' : '공유 게시판'}] ${post.subject}|"
           th:href="@{|/posts/${post.getCategory().toString().toLowerCase()}/detail/${post.id}|}"></a>
        <div class="collapse-content" th:utext="${post.content}"></div>
    </div>
    <!-- 게시글이 없을 때 메시지 출력 -->
    <div class="border border-base-300 bg-base-100 rounded-box font-medium text-center text-xl mb-2 p-5" th:if="${#lists.isEmpty(resentPostList)}">
        게시글이 없습니다.
    </div>

</div>
</html>